# 製品本体ファイル
/ozn-form/

# 製品概要・利用規約
/document/index.html

# マニュアルトップ
/document/guidance/index.html

# 設置サンプルファイル
/sample-form/ ： https://www.ozonenotes.jp/order-form/ のサンプル
/document/sample_form/
/document/samples/   にもいろいろなパターンのサンプルがあります

# v2.8.0 よりPHP 7.3未満はサポート対象外です
ライブラリ対応の関係で、動作環境をPHP 7.3以上に変更しています。
また、Google側の仕様変更により、GmailでのSMTP送信機能が使えなくなりました。既に送信できなくなっておりますが、プログラム側からも機能を削除しました。今後はOAuth認証をお使いください。

# v2.7.0 よりPHP 5系はサポート対象外です
v2.7.0 より、PHP 5系を推奨環境から外しましたのでご了承ください。当方でテストした限りでは、PHP5.6.x では正常動作していますので使えないことはないと思いますが、公式サポート対象外となります。できる限りサーバー側のPHPをアップデートしたうえでお使いください。

# v2.6.0 のアップデートについて
v2.6.0 では、ozn-form/css/ozn-form.min.css のフォントサイズ指定を変更しました。
v2.5.0 までは、ozn-form.min.css のフォントサイズが rem での指定になっており、しかもサイズが大きめになっていたことで、自分のサイトに導入する際にサイト側のCSSでフォントサイズを上書き調整しなければならず、面倒に感じる方がちらほらいらっしゃいました。
そこで今回、フォントサイズの単位を em に変更し、導入サイトの指定に沿って相対的にサイズが決まるようにしました。
この変更は、今後新規でフォームを設置する場合には便利になると思いますが、既に設置済みのサイトへ適用するとフォームのフォントサイズが変わってしまい、見た目が崩れるおそれがあります。 フォント表示に問題が出た場合は、ozn-form.min.css を以前のバージョンのものに戻してください。

# v2.4からのアップデートの場合
基本的には、コアファイルをそのまま上書きしてください。
※ozn-form/config ディレクトリ以下を除く。
※コアファイルを改変している場合は自己責任で差分を取って対応してください。

Google ReCAPTCHA v3 機能を使わない場合は、設定ファイル等の変更はありません。
Google ReCAPTCHA v3 機能を追加する場合は、マニュアルの「Google reCAPTCHA v3 機能設定」を確認してください。
document/guidance/config_file.html


# v2.3以前からのアップデートの場合
基本的には、コアファイルをそのまま上書きしてください。
※ozn-form/config ディレクトリ以下を除く。
※コアファイルを改変している場合は自己責任で差分を取って対応してください。

ozn-form v2.4から、CSRF（クロスサイトリクエストフォージェリ）対策のためワンタイムトークンをチェックし不正投稿を防ぐ機能を追加しました。
フォームをPOSTメソッドで送信する場合は、必ず下記のワンタイムトークンを出力するコードをform要素内のどこかに追記してください。
GETメソッドで送信する場合にはトークンチェックは行われません。

```
<form action="（次のステップのファイルパス）" method="post">
  ...
  <!-- ワンタイムパスワードを送信する input hiddenタグを出力する -->
  <?php echo $oznFormToken->csrfTag(); ?>
  ...
</form>
```

また、これまでのバージョンのサンプルでは、確認画面→送信完了画面への遷移をa要素にて記述していましたが、セキュリティー面への配慮から非推奨となりました。
他のステップと同様form要素を使用し、送信ボタンはbuttonまたはinput type="submit"要素で記述してください。
ワンタイムパスワードを送信する$oznFormToken->csrfTag()タグも必要です。


# 動作要件・変更履歴・利用規約・よくある質問　などはマニュアル内に移動しました。
document/index.html
document/guidance/index.html
document/guidance/miscellaneous.html
